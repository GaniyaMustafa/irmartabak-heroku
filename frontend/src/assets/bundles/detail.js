(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{64:function(a,t,i){"use strict";i.r(t);var s={name:"Detail",data:function(){return{giverating:{ip:"",score:null,user:null,rating:null},martabakdata:[],ratingmartabak:[],ratinguser:[],errored:!1,loading:!0,currentM:null,slug:this.$route.params.name,ratingdata:[],checked:null}},components:{modal:function(){return i.e(3).then(i.bind(null,74))},menuslider:function(){return i.e(2).then(i.bind(null,73))}},created:function(){this.getData()},computed:{already_rate:function(){return this.giverating.ip==this.ratingip?this.checked=!0:this.checked=!1,this.checked}},methods:{getData:function(){var a=this;this.$axios.get("https://api.ipify.org/?format=json").then((function(t){a.giverating.ip=t.data.ip})),this.$axios.get("/api/martabak/").then((function(t){a.martabakdata=t.data.filter((function(t){return t.slug.includes(a.slug)}))})),this.$axios.get("/api/rating/").then((function(t){a.ratingmartabak=t.data})),this.slug=this.$route.params.name,this.$axios.get("/api/userrating/").then((function(t){a.ratinguser=t.data})).catch((function(t){console.log(t),a.errored=!0})).finally((function(){a.giverating.ip==a.ratingip?a.checked=!0:a.checked=!1,a.loading=!1}))},rate:function(){this.$axios.post("/api/userrating/",this.giverating).then((function(a){})).catch((function(a){console.log(a.response)})),location.reload()}},watch:{$route:function(a,t){this.getData(),this.ratingip=""}}},e=i(1),n=Object(e.a)(s,(function(){var a=this,t=a.$createElement,i=a._self._c||t;return i("div",{staticClass:"detail"},[i("section",{directives:[{name:"show",rawName:"v-show",value:a.loading,expression:"loading"}]},[a._m(0),a._v(" "),a._m(1)]),a._v(" "),i("vue-page-transition",{attrs:{name:"fade-in-up"}},a._l(a.martabakdata,(function(t){return i("section",{key:t.id,attrs:{id:"detailmartabak"}},[i("div",{staticClass:"container-fluid row p-0 m-0 mb-5"},[i("img",{staticClass:"thumbnail fit-cover",attrs:{src:t.image,alt:t.name}})]),a._v(" "),i("div",{staticClass:"container-fluid row p-0 m-0 my-5"},a._l(a.ratingmartabak,(function(s){return i("div",{key:s.average,staticClass:"col-10 col-md-8 mx-auto my-auto p-0"},[s.object_id==t.id?i("div",{attrs:{cm:a.currentM=t.id}},[a._l(a.ratinguser,(function(t){return i("div",{key:t.id},[t.rating==s.id?i("div",[i("div",{attrs:{rip:a.ratingip=t.ip}}),a._v(" "),i("div",{attrs:{ur:a.userrating=t.score}}),a._v(" "),a.giverating.ip==t.ip?i("div",[i("div",{attrs:{ur:a.userrating=t.score}}),a._v(" "),i("div",{attrs:{rip:a.ratingip=t.ip}})]):a._e()]):a._e()])})),a._v(" "),i("div",{attrs:{rid:a.giverating.rating=s.id}},[i("p",{staticClass:"display-5 mt-5 mb-0"},[a._v(a._s(t.name))]),a._v(" "),i("star-rating",{staticClass:"my-3",attrs:{rating:parseFloat(s.average),"read-only":!0,increment:.1,"star-size":32}}),a._v(" "),i("div",{staticClass:"h2 my-3"},[i("p",{staticClass:"inline-block text-dark mr-3"},[a._v(a._s("Rp. "+t.price))])]),a._v(" "),i("div",[i("button",{staticClass:"btn btn-primary btn-lg px-5 py-3",attrs:{"data-toggle":"modal","data-target":"#buymethod"}},[a._v("\n            Pesan Sekarang\n          ")]),null!==a.already_rate?i("button",{staticClass:"btn btn-dark btn-lg px-5 py-3",attrs:{"data-toggle":"modal","data-target":"#startrating"}},[a._v("\n            Berikan Rating\n          ")]):a._e()]),a._v(" "),i("modal",{attrs:{id:"startrating",title:"Berikan Rating"}},[a.already_rate?a._e():i("div",{staticClass:"row p-2 m-0 mb-3"},[i("star-rating",{attrs:{increment:.5,"star-size":46,"text-class":"custom-text"},on:{"rating-selected":function(t){return a.rate()}},model:{value:a.giverating.score,callback:function(t){a.$set(a.giverating,"score",t)},expression:"giverating.score"}})],1),a._v(" "),a.already_rate?i("div",{staticClass:"row p-2 m-0"},[i("star-rating",{attrs:{rating:a.userrating,"read-only":!0,increment:.5,"star-size":46}})],1):a._e(),a._v(" "),a.already_rate?i("div",{staticClass:"p-2 mt-2 mb-3"},[a._v("Kamu telah memberikan rating "+a._s(a.userrating+" untuk "+t.name))]):a._e()]),a._v(" "),i("modal",{attrs:{id:"buymethod",title:"Pilih Layanan Pemesanan"}},[i("div",{staticClass:"row m-0"},[i("div",{staticClass:"col-12 mx-auto"},[i("p",{staticClass:"lead2 mb-4"},[a._v("\n                    Pilih cabang yang paling dekat dengan lokasi kamu saat ini! "),i("a",{staticClass:"text-warning",attrs:{href:"https://www.google.com/maps/search/Insinyur+Martabak"}},[a._v("Tidak tau dimana? klik disini!")])])]),a._v(" "),i("div",{staticClass:"col-12 mx-auto"},[i("p",{staticClass:"lead3"},[a._v("Kiaracondong")]),a._v(" "),i("div",[i("a",{staticClass:"btn btn-primary px-5 py-3",attrs:{href:""}},[a._v("GoFood")]),i("a",{staticClass:"btn btn-dark px-5 py-3",attrs:{href:"https://food.grab.com/id/id/restaurant/insinyur-martabak-ir-martabak-babakan-sari-delivery/IDGFSTI000013nr"}},[a._v("GrabFood")])])]),a._v(" "),i("div",{staticClass:"col-12 mx-auto"},[i("p",{staticClass:"lead3 mt-3"},[a._v("Cibaduyut")]),a._v(" "),i("div",[i("a",{staticClass:"btn btn-primary px-5 py-3",attrs:{href:""}},[a._v("GoFood")]),i("a",{staticClass:"btn btn-dark px-5 py-3",attrs:{href:""}},[a._v("GrabFood")])])]),a._v(" "),i("div",{staticClass:"col-12 mx-auto"},[i("p",{staticClass:"lead3 mt-3"},[a._v("Cijerah")]),a._v(" "),i("div",[i("a",{staticClass:"btn btn-primary px-5 py-3",attrs:{href:"https://gofood.co.id/bahasa/bandung/restaurant/insinyur-martabak-ir-martabak-cijerah-01b2ca13-eecb-4c5a-8835-207ba3e8e59f"}},[a._v("GoFood")]),i("a",{staticClass:"btn btn-dark px-5 py-3",attrs:{href:""}},[a._v("GrabFood")])])]),a._v(" "),i("div",{staticClass:"col-12 mx-auto mb-4"},[i("p",{staticClass:"lead3 mt-3"},[a._v("Tubagus Ismail Raya (GrabFood Only)")]),a._v(" "),i("div",[i("a",{staticClass:"btn btn-dark px-5 py-3",attrs:{href:"https://food.grab.com/id/id/restaurant/%F0%9F%8C%A1%EF%B8%8F%F0%9F%9B%A1%EF%B8%8Finsinyur-martabak-tubagus-ismail-grabkitchen-delivery/6-CYVFLE3CJETYNE"}},[a._v("GrabFood")])])])])])],1),a._v(" "),s.object_id==t.id?i("div",{staticClass:"my-5 px-0 py-4 px-md-4"},[i("label",{staticClass:"lead3"},[a._v("Nama")]),a._v(" "),i("p",[a._v(a._s(t.name))]),a._v(" "),i("label",{staticClass:"lead3"},[a._v("Harga")]),a._v(" "),i("p",[a._v(a._s("Rp "+t.price))]),a._v(" "),i("label",{staticClass:"lead3"},[a._v("Rating")]),a._v(" "),i("p",[a._v(a._s(parseFloat(s.average)+"/5"))]),a._v(" "),i("label",{staticClass:"lead3"},[a._v("Ukuran Tersedia")]),a._v(" "),i("p",[a._v(a._s(t.Size))]),a._v(" "),i("label",{staticClass:"lead3"},[a._v("Deskripsi")]),a._v(" "),i("p",[a._v(a._s(t.deskripsi))])]):a._e()],2):a._e()])})),0)])})),0),a._v(" "),i("menuslider",{staticClass:"py-3 py-md-5",attrs:{currentMartabak:a.currentM}})],1)}),[function(){var a=this.$createElement,t=this._self._c||a;return t("div",{staticClass:"container-fluid row p-0 m-0 mb-5"},[t("div",{staticClass:"skeleton-thumbnail"})])},function(){var a=this,t=a.$createElement,i=a._self._c||t;return i("div",{staticClass:"container-fluid row p-0 m-0 my-5"},[i("div",{staticClass:"col-10 col-md-8 mx-auto my-auto p-0"},[i("p",{staticClass:"display-5 mt-5 mb-0 skeleton-txt"},[a._v("Martabak Super")]),a._v(" "),i("div",{staticClass:"h2 my-3"},[i("p",{staticClass:"inline-block mr-3 skeleton-txt"},[a._v("Rp. 30000")])]),a._v(" "),i("div",[i("button",{staticClass:"btn btn-skeleton btn-lg px-5 py-3",attrs:{"data-toggle":"modal","data-target":"#buymethod"}},[a._v("\n          Pesan Sekarang\n        ")]),i("button",{staticClass:"btn btn-skeleton btn-lg px-5 py-3"},[a._v("\n          Berikan Rating\n        ")])]),a._v(" "),i("div",{staticClass:"my-5 px-0 py-4 px-md-4"},[i("label",{staticClass:"lead3 skeleton-txt"},[a._v("Rating")]),a._v(" "),i("label",{staticClass:"lead3 skeleton-txt"},[a._v("Ukuran Tersedia")]),a._v(" "),i("p",{staticClass:"skeleton-txt"},[a._v("Small")]),a._v(" "),i("label",{staticClass:"lead3 skeleton-txt"},[a._v("Deskripsi")])])])])}],!1,null,null,null);t.default=n.exports}}]);